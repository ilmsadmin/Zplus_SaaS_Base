# Zplus SaaS Base - Environment Configuration
# Copy this file to .env and update with your values

# ================================
# Application Configuration
# ================================
APP_NAME=zplus-saas-base
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true

# ================================
# Database Configuration
# ================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=zplus
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
DATABASE_URL=postgres://postgres:postgres123@localhost:5432/zplus?sslmode=disable

# MongoDB
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=zplus_metadata
MONGODB_USERNAME=mongo
MONGODB_PASSWORD=mongo123
MONGODB_URL=mongodb://mongo:mongo123@localhost:27017/zplus_metadata

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0
REDIS_URL=redis://:redis123@localhost:6379/0

# ================================
# Authentication & Authorization
# ================================

# Keycloak
KEYCLOAK_URL=http://localhost:8081
KEYCLOAK_REALM=zplus
KEYCLOAK_CLIENT_ID=zplus-client
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin123

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-256-bits
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# ================================
# API Configuration
# ================================

# Backend API
API_HOST=localhost
API_PORT=8080
API_BASE_URL=http://localhost:8080

# GraphQL
GRAPHQL_ENDPOINT=/graphql
GRAPHQL_PLAYGROUND_ENABLED=true
GRAPHQL_INTROSPECTION_ENABLED=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=200

# ================================
# Domain Configuration
# ================================

# Main domain
MAIN_DOMAIN=zplus.io
ADMIN_DOMAIN=admin.zplus.io

# Subdomain pattern
SUBDOMAIN_PATTERN={tenant}.zplus.io

# Custom domain support
CUSTOM_DOMAIN_ENABLED=true
DOMAIN_VERIFICATION_TTL=3600  # 1 hour in seconds

# SSL Configuration
SSL_AUTO_PROVISION=true
SSL_PROVIDER=letsencrypt
SSL_EMAIL=ssl@zplus.io

# Next.js
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-key
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_GRAPHQL_URL=http://localhost:8080/graphql

# Domain-specific URLs
NEXT_PUBLIC_ADMIN_URL=http://admin.localhost
NEXT_PUBLIC_MAIN_DOMAIN=zplus.io

# Frontend Features
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_MONITORING=false
NEXT_PUBLIC_CUSTOM_DOMAIN_ENABLED=true

# ================================
# File Storage
# ================================

# AWS S3 Configuration
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET=zplus-files-dev
S3_PUBLIC_URL=https://s3.us-west-2.amazonaws.com/zplus-files-dev

# Local File Storage (Alternative)
FILE_STORAGE_TYPE=local
LOCAL_STORAGE_PATH=./uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes

# ================================
# Email Configuration
# ================================

# SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@zplus.io
SMTP_FROM_NAME=Zplus Team

# Email Features
EMAIL_ENABLED=true
EMAIL_TEMPLATES_PATH=./templates/email

# ================================
# Monitoring & Observability
# ================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana123

# Jaeger (Distributed Tracing)
JAEGER_ENABLED=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ================================
# Security Configuration
# ================================

# CORS
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Tenant-ID

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key
PASSWORD_SALT_ROUNDS=12

# ================================
# Background Jobs
# ================================

# Redis Queue
QUEUE_ENABLED=true
QUEUE_REDIS_URL=redis://:redis123@localhost:6379/1
QUEUE_CONCURRENCY=10

# Cron Jobs
CRON_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
CLEANUP_SCHEDULE="0 3 * * 0"

# ================================
# External Services
# ================================

# Payment Processing
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# Maps
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# ================================
# Development Tools
# ================================

# Hot Reload
HOT_RELOAD_ENABLED=true

# Debug Tools
PPROF_ENABLED=true
GRAPHQL_DEBUG=true

# Testing
TEST_DATABASE_URL=postgres://postgres:postgres123@localhost:5432/zplus_test?sslmode=disable
TEST_REDIS_URL=redis://:redis123@localhost:6379/15

# ================================
# Production Overrides
# ================================
# These should be overridden in production

# Security (Generate new secrets for production)
# JWT_SECRET=generate-new-secret
# NEXTAUTH_SECRET=generate-new-secret
# ENCRYPTION_KEY=generate-new-32-char-key

# Database (Use managed services in production)
# DATABASE_URL=postgres://user:pass@prod-db.amazonaws.com:5432/zplus
# MONGODB_URL=mongodb://user:pass@prod-mongo.amazonaws.com:27017/zplus
# REDIS_URL=redis://prod-redis.amazonaws.com:6379

# Disable Debug Features
# DEBUG=false
# GRAPHQL_PLAYGROUND_ENABLED=false
# GRAPHQL_INTROSPECTION_ENABLED=false
# PPROF_ENABLED=false
